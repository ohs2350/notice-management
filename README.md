**사용기술**  
java 17, spring boot 3, spring data jpa, spring data redis, h2 database  

<br>  

**트래픽을 고려한 조회 개선**  
공지사항의 경우 조회의 비중이 압도적으로 높다.  
공지사항 조회 api를 호출하면 조회수를 증가시키고 공지사항 정보를 반환한다.  
모든 요청에 DB call을 한다면 성능이 매우 안 좋아진다. 
따라서 DB call과 lock의 비율을 줄이는 것이 핵심

<br>  

<img src="https://github.com/ohs2350/notice-management/assets/84179165/7ba600d5-7fe5-4518-9ee7-cb354ecfaa39" width="65%" height="65%"/>
<br>  
<br>  
매번 DB에서 데이터를 읽는 것이 아닌 캐시를 활용한다. 
그러나 마감일이 지난 공지의 경우 조회의 빈도가 현저히 낮다고 예상할 수 있다.  
따라서 마감하기 전 공지사항 정보는 캐시에 저장하여 관리하고, 마감일이 지난 공지의 경우 DB에서 바로 조회하여 캐시의 용량을 절약한다.  

<br>  
<br>  

조회수의 경우도 마감한 공지는 DB에 바로 update 쿼리를 보낸다. 
마감 전 공지의 경우 캐시에 카운팅한다. 이후 일정 시간마다 배치 스레드에서 캐시와 DB를 동기화시킨다.  
이 방법의 경우 조회수를 실시간으로 확인이 불가능하다는 단점이 있지만 공지사항의 조회수는 중요한 데이터가 아니라고 판단하였다.
